<div class="center chat-page-links">
{% if page.paginator.num_pages < 11 %}
    {% for page_number in page.paginator.page_range reversed %}
    {% include 'parts/page_link.html' %}
    {% endfor %}
{% else %}
    {% for page_number in page.paginator.page_range reversed %}
        {% if forloop.counter < 5 or forloop.revcounter < 5 %}
            {% include 'parts/page_link.html' %}
        {% elif forloop.counter == 5 %}
            <form action="{{ chat.url }}" id="open-page-wrapper">
                <input name="page" type="text" value="{% if page.number > 4 and page.number < page.paginator.num_pages|add:-3 %}{{ page.number }}{% endif %}" />
            </form>
        {% endif %}
    {% endfor %}
{% endif %}
</div>